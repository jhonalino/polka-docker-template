[http.middlewares]
	[http.middlewares.node-whitelist.ipWhiteList]
		#only allow my local pc and polkaview frontend to connect
		#blacklist everything else
		sourceRange = ["75.82.190.61", "67.205.143.91"] 

[http.middlewares.simpleAuth.basicAuth]
	users = [
		# generated using htpasswd
		# sudo apt-get install apache2-utils
		# htpasswd -nb admin secure_password
		"admin:$apr1$xeJcik7c$EOKH.ANrGhjBZ/E2bRowX." 
	]

[http.routers.api]
	rule = "Host(`monitor-polkadot-node.polkaview.network`)"
	entrypoints = ["websecure"]
	middlewares = ["simpleAuth", "node-whitelist"]
	service = "api@internal"
	[http.routers.api.tls]
		certResolver = "lets-encrypt"
